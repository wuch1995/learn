### 应用层协议

应用层协议定义了运行在不同端系统上的应用程序进程如何相互传递报文

### HTTP

#### 2.2.1 HTTP

1、HTTP使用TCP作为它的支撑运输协议
2、HTTP发起与服务器的TCP连接，连接后应用程序进程就可以通过套接字接口访问TCP，并发送和接收报文
3、HTTP服务器不保留客户信息，是一个无状态协议

#### 2.2.2 HTTP的持续连接和非持续连接

非持续连接:
1、每个TCP连接只传输一个请求报文和一个响应报文
持续连接:
1、相同的客户与服务器之间的后续请求和响应报文能够通过相同的连接进行传送
2、如果一个连接经过一定的时间间隔仍未被使用，HTTP服务器就关闭该连接

#### 2.2.3 HTTP报文格式

request
  请求行
    GET /somedir/page.html HTTP/1.1
  首部行
    Host: www.someschool.edu  // 主机
    Connection: close  // 不持续连接
    User-agent: Mozilla/5.0  // 用户代理，浏览器类型
    Accept-language: fr  // 想得到的语言版本
    ....
  实体
    使用POST报文时，提交的数据包含在实体中

response
  状态行
    HTTP/1.1 200 OK
  首部行
    ...
  实体

#### 2.2.4 用户与服务器的交互：cookie

服务端返回响应报文中添加了Set-cookie首部行，浏览器保存，并在下次发送请求时在请求报文中添加cookie首部行

#### 2.2.5 Web缓存

    浏览器 ------------->    Web缓存器   -----------> 服务器

    建立TCP连接发送请求 -->   是否命中缓存
                          是，向浏览器返回报文
                          否，向服务器发送请求，并将服务器返回的对象进行缓存后发送到浏览器
                          检验资源是否已经被修改
                          当向服务端发送GET请求,并且携带If-Modified-Since: Wed, 7 Sep....
                          如果资源未被修改，则服务器返回304 Not Modified 告诉缓存器可以继续使用缓存


### 文件传输协议:FTP

### 电子邮件 SMTP